<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="../static/css/materialize.css"  media="screen,projection"/>
      <link type="text/css" rel="stylesheet" href="../static/local.css"  media="screen,projection"/>
      <link href='https://fonts.googleapis.com/css?family=Dekko' rel='stylesheet'>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body style="background-color:#F4F4F2;">

      <!--Double navigation-->
      <header>
          <!-- Navbar -->
          <!-- ADD <div class="navbar-fixed"> TO MAKE THE NAVBAR FIXED. -->
          <div class="nav-wrapper">
            <nav style="background-color:#E84A27">
                <a href="/" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>        
                <a href="quiz" class="waves-effect waves-light btn-small right" style="background-color: #15294C; width:12%; height:100%; padding-right: 2px; padding-left: 3px"><i class="material-icons left">short_text</i>Take RSO Quiz</a>
            </nav>
          </div>
          <!-- /.Navbar -->
          <!-- Sidebar navigation -->
          <form class="form-search">
          <ul id="slide-out" class="side-nav fixed sn-bg-1" style="padding-left:0px; padding-right:15px; width:260px; background-color:#15294C; color:white;">
              <!-- Logo -->
              <li style="width:260px; height: 65px; background-color: #E84A27;">
                <div class="logo-wrapper waves-light" style="height: 65px">
                  <div class="row" style="display:table; height: 65px">
                    <a href="/">
                      <span href="/"><img src="../static/images/cute-dinosaur.png" class="responsive-img" style="height: 65px; vertical-align: middle; padding-top: 5px; padding-bottom: 5px"></span>
                      <span href="/" style="height: 65px; color:white;font-family: 'Dekko'; font-size:225%; padding-left:10px; vertical-align: middle;">RSOsaurus</span>
                    </a>
                  </div>
                </div>
              </li>
              <!--/. Logo -->
              <!--Social-->
              
              <!--/Social-->
              <!--Search Form-->
              <li>
                <div class="input-field" style="width:200px; padding-left:40px;">
                  <input style="padding-left:10px" placeholder="RSO Name..." id="search" name="search" type="search" required>
                  <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                </div>
              </li>
              <!--/.Search Form-->
              <!-- Side navigation links -->
              <li>
                  <ul class="collapsible collapsible-accordion">
                      <li> <div class="input-field col s10" style="padding-left:10px; padding-top: 4px;">
                            <select multiple id="category" name="category">
                              <option value="" disabled selected>Choose categories</option>
                              <option value="Sports">Sports</option>
                              <option value="Academics">Academics</option>
                              <option value="Games">Games</option>
                              <option value="Social">Social</option>
                            </select>
                            <label for="category">Category</label>
                          </div>
                      </li>
                  </ul>
              </li>
              <li>
                  <ul class="collapsible collapsible-accordion">
                      <li> <div class="input-field col s10" style="padding-left:10px; padding-top: 4px;">
                            <select id="time_commitment" name="time_commitment">
                              <option value="" disabled selected>Choose time commitment</option>
                              <option value="Low">Low</option>
                              <option value="Medium">Medium</option>
                              <option value="High">High</option>
                            </select>
                            <label>Time Commitment</label>
                          </div>
                      </li>
                  </ul>
              </li>
              <li>
                <ul class="collapsible collapsible-accordion">
                      <li> <div class="input-field col s10" style="padding-left:10px; padding-top: 4px;">
                            <select multiple id="meeting_time" name="meeting_time">
                              <option value="" disabled selected>Anytime</option>
                              <option value="Morning">Morning</option>
                              <option value="Afternoon">Afternoon</option>
                              <option value="Evening">Evening</option>
                            </select>
                            <label>Meeting Time</label>
                          </div>
                      </li>
                  </ul>
              </li>
              <li>
                  <ul class="collapsible collapsible-accordion">
                      <li> <div class="input-field col s10" style="padding-left:10px; padding-top: 4px;">
                            <select id="collected_dues" name="collected_dues">
                              <option value="" disabled selected>Undecided</option>
                              <option value="20">20 or less</option>
                              <option value="30">20 to 40</option>
                              <option value="40">more than 40</option>
                            </select>
                            <label>Collects dues?</label>
                          </div>
                      </li>
                  </ul>
              </li>
              <li>
                  <ul class="collapsible collapsible-accordion">
                      <li> <div class="input-field col s10" style="padding-left:10px; padding-top: 4px;">
                            <select id="level_of_activity" name="level_of_activity">
                              <option value="" disabled selected>Undecided</option>
                              <option value="Low">Low</option>
                              <option value="Medium">Medium</option>
                              <option value="High">High</option>
                            </select>
                            <label>Level of Activity</label>
                          </div>
                      </li>
                  </ul>
              </li>

              <li>
                  <ul class="collapsible collapsible-accordion">
                      <li> <div class="input-field col s10" style="padding-left:10px; padding-top: 4px;">
                            <select id="longevity" name="longevity">
                              <option value="" disabled selected>Undecided</option>
                              <option value="Old">Old</option>
                              <option value="New">New</option>
                            </select>
                            <label style="padding-top: -10px;">Longevity (RSO's age)</label>
                          </div>
                      </li>
                  </ul>
              </li>

              <li  style="padding-left: 10px;">
                  <p>
                    <input type="checkbox" id="limited_membership" name="limited_membership" />
                    <label for="limited_membership">Limited Membership</label>
                    <a class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Are there limited spots in RSO?"><i class="tiny material-icons" style="color: white;">help</i></a>
                  </p>
                  <p>
                    <input type="checkbox" id="recruitment_process" name="recruitment_process"/>
                    <label for="recruitment_process">Recruitment Process</label>
                    <a class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Is there a recruitment process?"><i class="tiny material-icons" style="color: white;">help</i></a>
                  </p>
              </li>

              <li>
                <a id="btnSearch" class="btn sbutton red" style="width: 170px; margin-left: 30px"><i class="material-icons" style="width: 10px; color: white">search</i>Search RSOs</a>
              </li>
              <!--/. Side navigation links -->
              <div class="sidenav-bg mask-strong"></div>
          </ul>
        </form>
        <!--/. Sidebar navigation -->
          
      </header>
      <!--Main layout-->
      <main>
        <h3 style="color:#636363; padding-left: 10px">Relevant</h3>
        <div id="relevant_rsos">
          {% for i in range(0,data|length,2) %}
            <div class="row">
              <div class="col s12 m6">
                <div class="card" style="width: 100%;">
                  <a href="rso?name={{ data[i][0] }}" id="rsoLink" name="{{ data[i][0] }}" >
                    <div class="card-image waves-effect waves-block waves-light" style="height: 180px; width: 100%; overflow: hidden">
                      <img src={{ data[i][13] }}>
                      <span class="card-title">{{ data[i][0] }}</span>
                    </div>
                  </a>
                  <div class="card-content">
                    <span class="card-title activator" style="font-size: 14px; font-family: Verdana;">{{ data[i][9][:50] }}...<i class="material-icons right">more_vert</i></span>
                  </div>
                  <div class="card-reveal">
                    <span class="card-title grey-text text-darken-4">{{ data[i][0] }}<i class="material-icons right">close</i></span>
                    <p>{{ data[i][9] }}</p>
                  </div>
                </div>
              </div>

              {% if data|length > i+1 %}
              <div class="col s12 m6">
                <div class="card" style="width: 100%;">
                  <a href="rso?name={{ data[i+1][0] }}" id="rsoLink" name="{{ data[i+1][0] }}" >
                    <div class="card-image waves-effect waves-block waves-light" style="height: 180px; width: 100%; overflow: hidden">
                      <img src={{ data[i+1][13] }}>
                      <span class="card-title">{{ data[i+1][0] }}</span>
                    </div>
                  </a>
                  <div class="card-content">
                    <span class="card-title activator" style="font-size: 14px; font-family: Verdana;">{{ data[i+1][9][:50] }}...<i class="material-icons right">more_vert</i></span>
                  </div>
                  <div class="card-reveal">
                    <span class="card-title grey-text text-darken-4">{{ data[i+1][0] }}<i class="material-icons right">close</i></span>
                    <p>{{ data[i+1][9] }}</p>
                  </div>
                </div>
              </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>

        <h3 style="color:#636363; padding-left: 10px">Less Relevant</h3>

          {% for i in range(0,ldata|length,4) %}
              <div class="row">
                <div class="col s12 m3">
                  <div class="card" style="width: 100%;">
                    <a href="rso?name={{ ldata[i][0] }}" id="rsoLink" name="{{ ldata[i][0] }}" >
                      <div class="card-image waves-effect waves-block waves-light" style="height: 100px; width: 100%; overflow: hidden">
                        <img src={{ ldata[i][13] }}>
                        <span class="card-title">{{ ldata[i][0] }}</span>
                      </div>
                    </a>
                    <div class="card-content">
                      <span class="card-title activator" style="font-size: 14px; font-family: Verdana;">{{ ldata[i][9][:20] }}...<i class="material-icons right">more_vert</i></span>
                    </div>
                    <div class="card-reveal">
                      <span class="card-title grey-text text-darken-4">{{ ldata[i][0] }}<i class="material-icons right">close</i></span>
                      <p>{{ ldata[i][9] }}</p>
                    </div>
                  </div>
                </div>

                {% if ldata|length > i+1 %}
                <div class="col s12 m3">
                  <div class="card" style="width: 100%;">
                    <a href="rso?name={{ ldata[i+1][0] }}" id="rsoLink" name="{{ ldata[i+1][0] }}" >
                      <div class="card-image waves-effect waves-block waves-light" style="height: 100px; width: 100%; overflow: hidden">
                        <img src={{ ldata[i+1][13] }}>
                        <span class="card-title">{{ ldata[i+1][0] }}</span>
                      </div>
                    </a>
                    <div class="card-content">
                      <span class="card-title activator" style="font-size: 14px; font-family: Verdana;">{{ ldata[i+1][9][:20] }}...<i class="material-icons right">more_vert</i></span>
                    </div>
                    <div class="card-reveal">
                      <span class="card-title grey-text text-darken-4">{{ ldata[i+1][0] }}<i class="material-icons right">close</i></span>
                      <p>{{ ldata[i+1][9] }}</p>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if ldata|length > i+2 %}
                <div class="col s12 m3">
                  <div class="card" style="width: 100%;">
                    <a href="rso?name={{ ldata[i+2][0] }}" id="rsoLink" name="{{ ldata[i+1][0] }}" >
                      <div class="card-image waves-effect waves-block waves-light" style="height: 100px; width: 100%; overflow: hidden">
                        <img src={{ ldata[i+2][13] }}>
                        <span class="card-title">{{ ldata[i+2][0] }}</span>
                      </div>
                    </a>
                    <div class="card-content">
                      <span class="card-title activator" style="font-size: 14px; font-family: Verdana;">{{ ldata[i+2][9][:20] }}...<i class="material-icons right">more_vert</i></span>
                    </div>
                    <div class="card-reveal">
                      <span class="card-title grey-text text-darken-4">{{ ldata[i+2][0] }}<i class="material-icons right">close</i></span>
                      <p>{{ ldata[i+2][9] }}</p>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if ldata|length > i+3 %}
                <div class="col s12 m3">
                  <div class="card" style="width: 100%;">
                    <a href="rso?name={{ ldata[i+3][0] }}" id="rsoLink" name="{{ ldata[i+1][0] }}" >
                      <div class="card-image waves-effect waves-block waves-light" style="height: 100px; width: 100%; overflow: hidden">
                        <img src={{ ldata[i+3][13] }}>
                        <span class="card-title">{{ ldata[i+3][0] }}</span>
                      </div>
                    </a>
                    <div class="card-content">
                      <span class="card-title activator" style="font-size: 14px; font-family: Verdana;">{{ ldata[i+3][9][:20] }}...<i class="material-icons right">more_vert</i></span>
                    </div>
                    <div class="card-reveal">
                      <span class="card-title grey-text text-darken-4">{{ ldata[i+3][0] }}<i class="material-icons right">close</i></span>
                      <p>{{ ldata[i+3][9] }}</p>
                    </div>
                  </div>
                </div>
                {% endif %}
              </div>
            {% endfor %}
    
      </main>
      <!--/Main layout-->

      <!--Footer-->
      <footer>

      </footer>
      <!--Footer--> 

      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script type="text/javascript" src="../static/js/materialize.min.js"></script>
      <script>
      // Initialize collapse button
      $(document).ready(function(){
        $(".button-collapse").sideNav();
        $('select').material_select();
        $(function() {
            $('#btnSearch').click(function() {
                console.log("GET DATA")
                console.log($('form'))
                $.ajax({
                    url: '/search',
                    data: $('form').serialize(),
                    type: 'POST',
                    success: function(response) {
                        console.log(response);
                        $("#relevant_rsos").empty();
                        $("#relevant_rsos").append(response);

                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            });
        });
        $(function() {
          $('#rsoLink').click(function() {
            console.log("RETRIEVING RSO INFO FOR PAGE")
            $.ajax({
              url: '/rso',
              data: {
                name: $(this).attr('name')
              },
              type: 'GET',
              success: function(response) {
                console.log(response);
              },
              error: function(error) {
                console.log(error);
              }
            });
          });
        });
        });
      </script>
      <!-- Compiled and minified CSS -->
      <!-- <link rel="stylesheet" href="../static/node_modules/materialize-css/dist/css/materialize.css"> -->


      <!-- Compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
      
    </body>
  </html>